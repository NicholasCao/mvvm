<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no">
  <link rel="stylesheet" href="./style.css" />
  <title>Start Page</title>
</head>

<body>
  <div id="app">
    <div id="greetingBox" :style="greetingStyle">
      <span id="greeting">
        {{ greeting }}
      </span>
    </div>

    <div class="pinnedNotesBox">
      <div vm-for="(note, index) in notes" class="pinnedNotes" vm-show="note.pinned" @click="goToNote(index)">
        <div class="content"> {{ note.content }} </div>
        <div class="time"> {{ note.time }} </div>
      </div>
    </div>

    <div class="menu">
      <svg @click="writeNote" class="icon note" viewBox="0 0 1024 1024">
        <title>便笺</title>
        <path d="M377.216 121.941333l274.346667 73.514667a85.333333 85.333333 0 0 1 51.84 39.765333l247.168 428.074667a85.333333 85.333333 0 0 1-31.232 116.565333l-295.594667 170.666667a85.333333 85.333333 0 0 1-116.565333-31.232l295.594666-170.666667a85.333333 85.333333 0 0 0 31.232-116.565333L586.837333 203.989333a85.333333 85.333333 0 0 0-51.797333-39.765333l-157.866667-42.282667h0.042667z" fill="#ffffff"></path>
        <path d="M202.368 75.093333l274.346667 73.514667a85.333333 85.333333 0 0 1 51.84 39.765333l247.168 428.074667a85.333333 85.333333 0 0 1-31.232 116.565333l-295.594667 170.666667a85.333333 85.333333 0 0 1-116.565333-31.232L85.162667 444.373333a85.333333 85.333333 0 0 1-8.533334-64.768l73.514667-274.346666a42.666667 42.666667 0 0 1 52.224-30.165334z m54.826667 155.221334a64 64 0 1 0 64 110.848 64 64 0 0 0-64-110.848z" fill="#ffffff"></path>
      </svg>
      <svg @click="setting" class="icon setting" viewBox="0 0 1024 1024">
        <title>设置</title>
        <path d="M542.464 85.333333c23.466667-0.426667 45.696 8.106667 62.293333 24.32 16.682667 15.786667 25.6 37.546667 25.6 60.586667 0 46.933333 38.826667 84.949333 87.082667 84.949333 14.933333 0 29.866667-4.266667 43.093333-11.52 41.386667-22.272 93.013333-8.106667 116.48 31.573334l29.013334 49.92c7.253333 12.8 11.52 27.306667 11.52 42.24 0 30.293333-16.64 58.453333-43.52 73.386666-13.226667 7.253333-24.32 18.346667-32 31.146667a83.626667 83.626667 0 0 0 32 113.92 84.394667 84.394667 0 0 1 32 115.2l-29.013334 48.213333c-15.36 26.453333-43.946667 42.666667-74.666666 42.666667-15.36 0-30.72-3.84-43.52-11.52-13.653333-7.253333-28.586667-11.52-43.52-11.52-23.04 0-45.226667 8.96-61.44 25.173333-16.64 15.786667-25.6 37.546667-25.6 60.16 0 46.506667-38.826667 84.48-87.04 84.48h-58.453334c-23.04 0-44.8-9.386667-60.586666-25.173333-16.213333-16.213333-24.746667-37.546667-24.746667-59.733333 0-46.933333-38.4-84.906667-86.613333-84.906667-15.786667 0-31.146667 4.266667-44.373334 12.373333a91.733333 91.733333 0 0 1-66.133333 8.533334c-22.186667-5.973333-41.386667-20.48-52.906667-39.68l-27.306666-48.213334a83.157333 83.157333 0 0 1-10.666667-66.56c5.973333-22.613333 21.333333-41.813333 42.24-53.333333 13.226667-7.253333 24.32-17.92 32-31.146667a84.48 84.48 0 0 0-32-113.92 83.072 83.072 0 0 1-31.573333-113.92l27.306666-47.786666c11.52-20.053333 30.72-34.56 53.333334-40.533334a88.149333 88.149333 0 0 1 66.56 8.96c13.653333 7.253333 28.586667 11.093333 43.52 11.093334 23.04 0 45.226667-8.96 61.44-24.746667 16.213333-15.786667 25.173333-37.546667 25.173333-59.733333 0-46.933333 38.826667-84.906667 87.04-84.906667z m17.109333 319.189334a121.728 121.728 0 0 0-130.986666 25.173333c-34.133333 33.28-44.8 84.053333-26.026667 127.573333a119.210667 119.210667 0 0 0 110.506667 72.533334h0.426666c32 0.426667 61.866667-11.946667 84.48-34.133334 22.613333-21.76 35.413333-51.626667 35.413334-82.773333 0.426667-47.36-29.013333-90.453333-73.813334-108.373333z" fill="#2c2c2c"></path>
      </svg>
    </div>

    <div class="bgBox">
      <video 
        vm-show="isLiveBg"
        :style="status === 'searching' ? 'transform: scale(1.1);' :''"
        :src="liveBgLink"
        id="liveBgBox"
        class="bg"
        autoplay="true"
        loop="true"
        muted="true" 
      >
      </video>
      <img
        vm-show="!isLiveBg"
        :src="bgLink"
        :style="status === 'searching' ? 'transform: scale(1.1);' :''"
        class="bg"
      >
      </img>
      <div 
        class="cover"
        :style="status !== 'nothing' ? 'background-color: rgba(0,0,0,0.25);': ''"
        @click="changeStatus"
      >
      </div>
    </div>

    <main>
      <div class="timeBox">
        <h1 class="time"> {{ time }} </h1>
      </div>

      <input
        type="text"
        class="input"
        size="30"
        placeholder="Search"
        autocomplete="off" 
        @keydown="input"
        @click="focus" 
        vm-model="word"
      />

      <div class="suggestionContainer">
        <div vm-for="(sug, index) in suggestion" @click="search(sug)">
          {{ sug }}
        </div>
      </div>
    </main>

    <div class="popUp" id="note" :style="status === 'writingNote' ? 'opacity: 1; height: 500px;' : ''">
      <h2>
        <span>
          便笺
        </span>
        <svg @click="newNote" class="new" viewBox="0 0 1024 1024">
          <title>新便笺</title>
          <path d="M928 480h-384v-384c0-17.066667-14.933333-32-32-32s-32 14.933333-32 32v384h-384c-17.066667 0-32 14.933333-32 32s14.933333 32 32 32h384v384c0 17.066667 14.933333 32 32 32s32-14.933333 32-32v-384h384c17.066667 0 32-14.933333 32-32s-14.933333-32-32-32z" fill="#000"></path>
        </svg>
        <svg @click="close" class="close" viewBox="0 0 1024 1024">
          <title>关闭</title>
          <path d="M155.00305177 868.99694823c-21.96904297-21.96904297-21.96904297-60.41486817 0-82.38391112l631.60998534-631.60998534c21.96904297-21.96904297 60.41486817-21.96904297 82.38391112 0s21.96904297 60.41486817 0 82.38391112l-631.60998534 631.60998534c-21.96904297 21.96904297-60.41486817 21.96904297-82.38391112 0z" fill="#B4B4B4"></path>
          <path d="M155.00305177 155.00305177c21.96904297-21.96904297 60.41486817-21.96904297 82.38391112 0l631.60998534 631.60998534c21.96904297 21.96904297 21.96904297 60.41486817 0 82.38391112s-60.41486817 21.96904297-82.38391112 0l-631.60998534-631.60998534c-21.96904297-21.96904297-21.96904297-60.41486817 0-82.38391112z" fill="#B4B4B4"></path>
        </svg>
      </h2>
      <div class="content">
        <div class="noteBox">
          <div class="noteList">
            <div
              vm-for="(note, index) in notes"
              :class="noteIndex === index ? 'selected noteTitle' : 'noteTitle'"
              @click="selectNote(index)"
            >
              {{ note.content }}
            </div>
            <div class="activeBar" :style="'transform: translateY(' + noteIndex * 40 + 'px)';">
            </div>
          </div>

          <textarea vm-model="noteContent" id="textNote" placeholder="在此键入以创建新的便笺"></textarea>
        </div>

        <div class="noteOperations">
          <div class="time">
            {{ notes[noteIndex] ? notes[noteIndex].time : '' }}
          </div>
          <svg @click="deleteNote" class="icon" viewBox="0 0 1024 1024" title="删除便笺">
            <title>删除便笺</title>
            <path d="M382.32 405.358v384a20.626 20.626 0 0 1-21.577 21.284h-43.3a20.626 20.626 0 0 1-21.578-21.357v-384A20.626 20.626 0 0 1 317.443 384h43.154a20.626 20.626 0 0 1 21.577 21.358h0.073z m172.91 0v384a20.626 20.626 0 0 1-21.65 21.284h-43.155a20.626 20.626 0 0 1-21.577-21.357v-384A20.626 20.626 0 0 1 490.425 384h43.155a20.626 20.626 0 0 1 21.577 21.358z m172.91 0v384a20.626 20.626 0 0 1-21.65 21.284h-43.155a20.626 20.626 0 0 1-21.577-21.357l-0.073-384A20.626 20.626 0 0 1 663.262 384h43.227a20.626 20.626 0 0 1 21.578 21.358z m86.381 482.67V256H209.484v631.954a74.825 74.825 0 0 0 14.482 45.056c3.365 3.804 5.778 5.632 7.095 5.632h561.883c1.317 0 3.657-1.828 7.095-5.632a74.825 74.825 0 0 0 14.556-44.983zM360.743 170.641h302.519l-32.402-77.97a19.017 19.017 0 0 0-11.484-7.314H405.287a19.017 19.017 0 0 0-11.483 7.314l-33.06 77.97zM987.431 192v42.642A20.626 20.626 0 0 1 965.854 256h-64.878v631.954c0 36.937-10.532 68.755-31.744 95.744-21.211 26.844-46.592 40.302-76.288 40.302H231.061c-29.696 0-55.15-13.02-76.288-38.985-21.212-26.039-31.744-57.49-31.744-94.354V256H58.15a20.626 20.626 0 0 1-21.577-21.358V192a20.626 20.626 0 0 1 21.577-21.358h208.677L314.15 59.32c6.73-16.457 18.871-30.428 36.425-41.984C368.131 5.778 385.977 0 403.971 0h216.064c17.993 0 35.84 5.778 53.394 17.335 17.554 11.556 29.696 25.6 36.425 41.984l47.323 111.323h208.677A20.626 20.626 0 0 1 987.431 192z"></path>
          </svg>
          <svg @click="pinNote" class="icon star" vm-show="notes[noteIndex] && !notes[noteIndex].pinned" viewBox="0 0 1151 1024">
            <title>固定便笺到主屏幕</title>
            <path d="M1056.069394 342.982943L763.905526 300.38821 633.321676 35.620955c-23.397106-47.194163-91.188723-47.794089-114.785804 0L387.952021 300.38821 95.788154 342.982943c-52.39352 7.59906-73.390924 72.191072-35.395623 109.186496l211.373859 205.974527-49.993817 290.964016c-8.998887 52.593496 46.394262 91.988624 92.788525 67.391666L575.928774 879.116638l261.367676 137.38301c46.394262 24.396983 101.787412-14.79817 92.788525-67.391666l-49.993818-290.964016 211.373859-205.974527c37.995301-36.995425 16.997898-101.587436-35.395622-109.186496zM777.103894 624.548121l47.394139 276.765772L575.928774 770.730042l-248.569259 130.583851 47.394139-276.765772-201.175121-195.975763 277.965624-40.395005 124.384617-251.968838 124.384617 251.968838 277.965623 40.395005-201.17512 195.975763z" fill="#2c2c2c"></path>
          </svg>
          <svg @click="pinNote" class="icon star" vm-show="notes[noteIndex] && notes[noteIndex].pinned" viewBox="0 0 1024 1024">
            <title>取消固定便笺到主屏幕</title>
            <path d="M512 837.12L255.6928 950.0672c-14.336 6.3488-31.1296-0.2048-37.4784-14.5408-1.9456-4.5056-2.7648-9.4208-2.2528-14.336l28.16-278.6304-186.5728-208.896c-10.4448-11.6736-9.4208-29.696 2.2528-40.1408 3.6864-3.2768 8.0896-5.5296 12.9024-6.5536L346.5216 327.68 487.424 85.7088c7.8848-13.6192 25.2928-18.1248 38.912-10.24 4.3008 2.4576 7.7824 6.0416 10.24 10.24L677.4784 327.68l273.7152 59.2896c15.36 3.2768 25.088 18.432 21.8112 33.792-1.024 4.8128-3.2768 9.216-6.5536 12.9024l-186.6752 208.896L807.936 921.1904c1.536 15.6672-9.8304 29.5936-25.3952 31.1296-4.9152 0.512-9.8304-0.3072-14.336-2.2528L512 837.12z" fill="#2c2c2c"></path>
          </svg>
        </div>
      </div>
    </div>

    <div class="popUp" id="setting" :style="status === 'setting' ? 'opacity: 1; height: 500px;' : ''">
      <h2>
        <span> 设置 </span>
        <svg @click="close" class="close" viewBox="0 0 1024 1024">
          <title>关闭</title>
          <path d="M155.00305177 868.99694823c-21.96904297-21.96904297-21.96904297-60.41486817 0-82.38391112l631.60998534-631.60998534c21.96904297-21.96904297 60.41486817-21.96904297 82.38391112 0s21.96904297 60.41486817 0 82.38391112l-631.60998534 631.60998534c-21.96904297 21.96904297-60.41486817 21.96904297-82.38391112 0z" fill="#B4B4B4"></path>
          <path d="M155.00305177 155.00305177c21.96904297-21.96904297 60.41486817-21.96904297 82.38391112 0l631.60998534 631.60998534c21.96904297 21.96904297 21.96904297 60.41486817 0 82.38391112s-60.41486817 21.96904297-82.38391112 0l-631.60998534-631.60998534c-21.96904297-21.96904297-21.96904297-60.41486817 0-82.38391112z" fill="#B4B4B4"></path>
        </svg>
      </h2>
      <div class="content">

        <h3> 搜索引擎 </h3>
        <span class="radio" vm-for="(val, index) in searchEngines" @click="changeSearchEngine(val)">
          <div :class="searchEngines.indexOf(searchEngine) === index ? 'checked' : ''">
            <span class="radio-inner"></span>
            <span class="radio-label">{{ val }}</span>
          </div>
    　　</span>

        <h3> 背景 </h3>
        <h4> 静态 </h4>
        <div class="bgPreviewContainer">
          <div vm-for="(val, index) in bgsPewview" class="bgPreviewBox">
            <div :id="val" @click="changeBg(index)" :class="bgIndex === index ? 'bgPreview selected' : 'bgPreview'">
              <span class="bgPreviewMask"></span>
              <svg class="√" viewBox="0 0 1024 1024">
                <path d="M943.9 228.5c-16.1-17.6-43.5-18.8-61-2.6L383.7 708.3 143.3 442.7c-16-17.7-43.3-19-61-3-17.7 16-19 43.3-3 61L348 797.6c2.1 2.3 4.4 4.3 6.8 6.1 16.3 12.5 39.7 12 55.4-2.4l531.1-511.7c17.6-16.2 18.8-43.5 2.6-61.1z"></path>
              </svg>
            </div>
          </div>
        </div>
        <h4> 动态 </h4>
        <div class="bgPreviewContainer">
          <div vm-for="(val, index) in bgsLivePewview" class="bgPreviewBox">
            <div :id="val" @click="changeBg(index + 6)" :class="bgIndex === index+6 ? 'bgPreview selected' : 'bgPreview'">
              <span class="bgPreviewMask"></span>
              <svg class="√" viewBox="0 0 1024 1024" >
                <path d="M943.9 228.5c-16.1-17.6-43.5-18.8-61-2.6L383.7 708.3 143.3 442.7c-16-17.7-43.3-19-61-3-17.7 16-19 43.3-3 61L348 797.6c2.1 2.3 4.4 4.3 6.8 6.1 16.3 12.5 39.7 12 55.4-2.4l531.1-511.7c17.6-16.2 18.8-43.5 2.6-61.1z"></path>
              </svg>
            </div>
          </div>
        </div>

        <h3 style="margin-top: 20px;"> 用户信息 </h3>
        <div class="inputBox">
          <span> 昵称 </span>
          <input vm-model="nickName" type="text" autocomplete="off" placeholder="仅用于问候语" />
        </div>
        <div class="inputBox">
          <span> 生日 </span>
          <input vm-model="birthday" type="text" autocomplete="off" placeholder="输入格式: 月-日" />
        </div>
      </div>
    </div>

    <div id="he-plugin-simple"></div>
  </div>
  <script>
    const WIDGET = {
      CONFIG: {
        "modules": "102",
        "background": 5,
        "tmpColor": "FFFFFF",
        "tmpSize": 16,
        "cityColor": "FFFFFF",
        "citySize": 16,
        "aqiSize": 16,
        "weatherIconSize": 24,
        "alertIconSize": 18,
        "padding": "10px 10px 10px 10px",
        "shadow": "1",
        "language": "auto",
        "borderRadius": 5,
        "fixed": "true",
        "vertical": "middle",
        "horizontal": "center",
        "left": 10,
        "bottom": 10,
        "key": "77027206f8c846f4bc16d643c118d5ac"
      }
    }
  </script>
  <script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script>
  <script type="text/javascript" src="../dist/vm.min.js"></script>
  <script type="text/javascript" src="index.js"></script>
</body>
</html>

!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return O}));let n=0;function o(){this.id=n++,this.subs=[]}function r(e,t,i,n){Object.defineProperty(e,t,{value:i,enumerable:!!n,writable:!0,configurable:!0})}function s(e){return null!==e&&"object"==typeof e}function a(e,t){const i=e.parentNode;i&&i.replaceChild(t,e)}o.target=null,o.prototype={depend(){o.target&&o.target.addDep(this)},addSub(e){this.subs.push(e)},notify(){this.subs.forEach(e=>{e.update()})}};const c=Array.prototype,l=Object.create(c);function d(e){if(!e||"object"!=typeof e)return;let t;var i,n;return i=e,n="__ob__",t=hasOwnProperty.call(i,n)&&e.__ob__ instanceof h?e.__ob__:new h(e),t}function h(e){this.dep=new o,r(e,"__ob__",this),Array.isArray(e)?(r(e,"_oldLength",0),e.__proto__=l,this.observeArray(e)):this.walk(e)}function u(e,t,i){const n=new o;let r=d(i);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:()=>(o.target&&(n.depend(),r&&r.dep.depend()),i),set(e){i!==e&&("object"==typeof(i=e)&&(r=d(e)),n.notify())}})}function p(e,t){const i={exp:e=e.trim()};return i.getter=function(e){const t=$(e)&&e.indexOf("[")<0?"vm."+e:g(e);try{return new Function("vm","return "+t+";")}catch{return m}}(e),t&&(i.setter=function(e){const t=$(e)&&e.indexOf("[")<0?"vm."+e:g(e);try{return new Function("vm, value",t+"= value;")}catch{return m}}(e)),i}function m(){}["push","pop","shift","unshift","splice","sort","reverse"].forEach(e=>{const t=c[e];r(l,e,(function(...i){this._oldLength=this.length;const n=t.apply(this,i),o=this.__ob__;let r;switch(e){case"push":case"unshift":r=i;break;case"splice":r=i.slice(2)}return r&&o.observeArray(r),o.dep.notify(),n}))}),h.prototype={walk(e){for(const t in e)u(e,t,e[t])},observeArray(e){e.forEach(e=>{d(e)})}};const f=[],y=/\s/g,b=/[\{,]\s*[\w\$_]+\s*:|('(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|`(?:[^`\\]|\\.)*\$\{|\}(?:[^`\\"']|\\.)*`|`(?:[^`\\]|\\.)*`)|new |typeof |void /g,v=/"(\d+)"/g,_=/[^\w$\.](?:[A-Za-z_$][\w$]*)/g;function g(e){f.length=0;let t=e.replace(b,w);return t=t.replace(y,""),t=(" "+t).replace(_,x),t=t.replace(v,N),t}function w(e){const t=f.length;return f[t]=e,'"'+t+'"'}function x(e){const t=e.charAt(0);let i=e.slice(1);return i=i.indexOf('"')>-1?i.replace(v,N):i,t+"vm."+i}function N(e,t){return f[t]}const A=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\]|\[\d+\]|\[[A-Za-z_$][\w$]*\])*$/;function $(e){return A.test(e)}var T={on:{priority:7,implement(e,t,i,n){let o;o=$(n)?p(n).getter.call(e,e).bind(e):function(t){e.$event=t,p(n).getter.call(e,e),e.$event=null},t["on"+i]=o},update(e,t,i,n,o){}},bind:{priority:8,implement(e,t,i,n){},update(e,t,i,n,o){t.setAttribute(i,n),"style"===i&&(t._show?t.style.display=t.__originalDisplay:!1===t._show&&(t.style.display="none"))}},model:{priority:10,implement(e,t,i,n,o){"text"!==t.type&&"TEXTAREA"!==t.tagName||(t.oninput=function(){o.set(t.value)})},update(e,t,i,n,o){"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName||"text"!==t.type&&"TEXTAREA"!==t.tagName||(t.value=n)}},textNode:{priority:1,implement(e,t,i){},update(e,t,i,n){n.data=t}},for:{priority:20,implement(e,t,i){const n=/\((.*),(.*)\)/,o=i.match(/(.*) (?:in|of) (.*)/);let r,s;if(o){const e=o[1].match(n);e?(r=e[1].trim(),s=e[2].trim()):r=o[1].trim()}const c=o[2].trim(),l=document.createDocumentFragment(),d=document.createTextNode("");return a(t,d),{exp:c,valueKey:r,indexKey:s,anchor:d,frag:l}},update(e,t,i,n,o,r,s,a){if(t._vmForNumber)for(let e=0;e<t._vmForNumber;e++)(c=s.previousElementSibling)&&c.parentNode.removeChild(c);var c;if(t._vmForNumber=n.length,"object"==typeof n){for(const s in n){const c=t.cloneNode(!0);c.removeAttribute("vm-for");const l=Object.create(e);l[r]=e[i][s],l[o]=Array.isArray(n)?Number(s):s,new E(l,c),a.appendChild(c)}var l,d;l=a,(d=s).parentNode.insertBefore(l,d)}else console.error(i+"必须为对象或数组")}},show:{priority:0,implement(e,t,i,n){t.__originalDisplay=t.style.display},update(e,t,i,n,o){n?(t.style.display=t.__originalDisplay,t._show=!0):(t.style.display="none",t._show=!1)}}};function j(e,t,i,n){this.vm=e,this.depIds=new Set,this.cb=i;const o=p(t,n);this.getter=o.getter,this.setter=o.setter,this.value=this.get()}function E(e,t){this.el=t,this.vm=e,this._textNodes=[],this.dirs=[],this.onRe=/^(vm-on:|@)/,this.bindRe=/^(vm-bind:|:)/,this.modelRe=/^vm-model/,this.forRe=/^vm-for/,this.showRe=/^vm-show/,this.braceRe=/{{((?:.|\n)+?)}}/g,this.dirs=[],this.init()}function O(e){this.$options=e,this.init()}j.prototype={get(){o.target=this;const e=this.getter.call(this.vm,this.vm);return o.target=null,e},set(e){this.setter&&this.setter.call(this.vm,this.vm,e)},update(){const e=this.get(),t=this.value;(e!==t||s(e))&&this.cb.call(this.vm,e,t),this.value=e},addDep(e){this.depIds.has(e.id)||(this.depIds.add(e.id),e.addSub(this))}},E.prototype={init(){this.el&&(this.compileNode(this.el)||this.el.hasChildNodes()&&this.compileNodeList(this.el.childNodes),this.render())},addDir(e,t,i,n){this.dirs.push({name:t,handle:e,expression:i,node:n})},render(){const e=this.vm;this.dirs.sort((e,t)=>t.handle.priority-e.handle.priority),this.dirs.forEach(t=>{this.handleAttrbute(e,t)}),this._textNodes.forEach(t=>{this.handleTextNode(e,t)})},compileNodeList(e){e.forEach(e=>{this.compileNode(e)||e.hasChildNodes()&&this.compileNodeList(e.childNodes)})},compileNode(e){const t=e.nodeType;return 1===t?this.compileElement(e):3===t?this.compileTextNode(e):void 0},compileElement(e){if(e.hasAttributes()||e._attributes){let t=!1;const i=e._attributes||[...e.attributes];return e.attributes["vm-for"]&&(t=!0),i.forEach(i=>{let n=i.name.trim();const o=i.value.trim();this.onRe.test(n)&&!t?(n=n.replace(this.onRe,""),this.addDir(T.on,n,o,e)):this.bindRe.test(n)&&!t?(e.removeAttribute(n.split("=")[0]),n=n.replace(this.bindRe,""),this.addDir(T.bind,n,o,e)):"vm-model"!==n||t?"vm-for"===n?this.addDir(T.for,n,o,e):this.showRe.test(n)&&!t&&(e.removeAttribute(n.split("=")[0]),this.addDir(T.show,n,o,e)):this.addDir(T.model,n,o,e)}),t}},compileTextNode(e){this._textNodes.push(e)},handleAttrbute(e,t){const i=t.handle;if("vm-for"===t.name){const n=i.implement(e,t.node,t.expression),o=(o,r)=>{i.update(e,t.node,n.exp,o,n.indexKey,n.valueKey,n.anchor,n.frag)};o(new j(this.vm,n.exp,o).value)}else if("vm-model"===t.name){const n=(n,o)=>{i.update(e,t.node,t.name,n,o)},o=new j(this.vm,t.expression,n,!0);i.implement(e,t.node,t.name,t.expression,o),n(o.value)}else if(i.implement&&i.implement(e,t.node,t.name,t.expression),t.handle!==T.on){const n=(n,o)=>{i.update(e,t.node,t.name,n,o)};n(new j(this.vm,t.expression,n).value)}},handleTextNode(e,t){const i=t.wholeText;let n,o,r,s=0;for(;n=this.braceRe.exec(i);){r||(r=document.createDocumentFragment()),o=n.index,o>s&&r.appendChild(document.createTextNode(i.slice(s,o)));const t=n[1],a=document.createTextNode(t);T.textNode.implement(e,a,t);const c=(t,i)=>{T.textNode.update(e,t,i,a)};c(new j(e,t,c).value),r.appendChild(a),s=o+n[0].length}r&&s<i.length&&r.appendChild(document.createTextNode(i.slice(s))),r&&a(t,r)}},O.prototype={init(){this.initData(),this.initMethods(),d(this._data),new E(this,this.$el),this.initWatch()},initData(){const e=this;e.$el=document.querySelector(e.$options.el);let t=e.$options.data;t=e._data="function"==typeof t?t():t||{};Object.keys(t).forEach(t=>{e.proxy(e,"_data",t)})},initMethods(){const e=this,t=e.$options.methods?e.$options.methods:{};Object.keys(t).forEach(i=>{e[i]=t[i]})},initWatch(){if(this.$options.watch){const e=this.$options.watch;for(const t in e)this.$watch(t,e[t])}},proxy(e,t,i){const n={enumerable:!0,configurable:!0,get:function(){return this[t][i]},set:function(e){this[t][i]=e}};Object.defineProperty(e,i,n)},$watch(e,t){const i=new j(this,e,t).value;if(s(i)&&!Array.isArray(i))for(const n in i)this.$watch(`${e}.${n}`,t)},$set(e,t,i){this[e]&&(this[e][t]=i,this[e].__ob__.dep.notify())},$delete(e,t){this[e]&&(Array.isArray(this[e])?this[e].splice(t,1):(delete this[e][t],this[e].__ob__.dep.notify()))}},window.VM=O}]);